<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset = "UTF-8">
        <title>Promise</title>
        <script>
            function wait(msg, isResolve = true) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (isResolve) {
                            resolve(msg);
                        } else {
                            reject(msg);
                        }
                    }, 100);
                });
            };

            async function exec() {
                console.log('--- async/await ---');

                console.log(await wait('処理A'));
                console.log(await wait('処理B'))

                console.log('処理途中');

                const c = await wait('処理C');
                const d = await wait('処理D');
                console.log(c + d);
                
                console.log('---処理終了---');
            };

            console.log('---> 処理1');
            console.log('--> exec()', exec());
            console.log('---> 処理2')
        </script>
    </head>
</html>